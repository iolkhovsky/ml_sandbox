schema: '2.0'
stages:
  preprocessing:
    cmd: python3 preprocess_data.py
    deps:
    - path: data/raw_data.csv
      md5: 96010c8dbc4d503ad83eec8d4a46837a
      size: 188606
    - path: preprocess_data.py
      md5: 239d5c7dbd3d1ef01051d2512874fcd3
      size: 1912
    params:
      params.yaml:
        preprocessing.random_state: 42
        preprocessing.test_share: 0.2
    outs:
    - path: data/test.csv
      md5: b889525c0bbfe9c7a423ded83d7b52cf
      size: 8129
    - path: data/train.csv
      md5: 4284ad8269e5196735af200ed1410867
      size: 32577
  training:
    cmd: python3 train.py
    deps:
    - path: data/train.csv
      md5: 4284ad8269e5196735af200ed1410867
      size: 32577
    - path: train.py
      md5: ad1a68111065deda56a49791c559515e
      size: 2595
    params:
      params.yaml:
        training.model.method: naive_bayes
        training.model.parameters: None
        training.model.type: GaussianNB
        training.preprocessor.type: StandardScaler
    outs:
    - path: trained_model/model.pickle
      md5: a2a49a09818ece24d9fdf4f95b996e72
      size: 591
    - path: trained_model/preprocessor.pickle
      md5: d2cd87f2ced0c4491baba68c708d2807
      size: 489
    - path: trained_model/train.png
      md5: c8c45d2c4f97d899780f968ca6cb810f
      size: 454864
    - path: trained_model/train_report.yml
      md5: 4afa36dda38d244ddc4b6b044a59ba33
      size: 364
  testing:
    cmd: python3 test.py
    deps:
    - path: data/test.csv
      md5: b889525c0bbfe9c7a423ded83d7b52cf
      size: 8129
    - path: test.py
      md5: 8878e347b0a50627c4d5f29a0d323171
      size: 1887
    - path: trained_model/model.pickle
      md5: a2a49a09818ece24d9fdf4f95b996e72
      size: 591
    - path: trained_model/preprocessor.pickle
      md5: d2cd87f2ced0c4491baba68c708d2807
      size: 489
    params:
      params.yaml:
        testing.model: trained_model
    outs:
    - path: test_results/test.png
      md5: 8d3893d0c2e26c9d06cf658ab9410193
      size: 237414
    - path: test_results/test_report.yml
      md5: 74383ba73535b9cff73f78c8de8aae8d
      size: 216
